# v0.30.x series (next stable)

## v0.30.0 (upcoming release)

In this major release, we add several features related with polarization and
aquatic surface modelling.

### Deprecated

* The {func}`eradiate.srf_tools.make_gaussian` function is deprecated. It will
  be removed in v0.31.0. Use {func}`eradiate.spectral.response.make_gaussian` as
  an alternative.
* The `mycena_v1` CKD absorption database has issues and should not be used. It
  is still available for backward compatibility.

### Removed

* The {class}`MolecularAtmosphere` constructor no longer accepts a
  `phase_function` parameter ({ghpr}`460`).

### Added

* Added a 6SV-like ocean BRDF ({ghpr}`453`).
* Added depolarization factor to the Rayleigh phase function ({ghpr}`460`).
* Added a polarized ocean BRDF ({ghpr}`466`).
* Added a new {class}`.ArrayRadProfile` class ({ghpr}`468`). It implements an
  interface to user-defined raw radiative atmospheric profile data and is mostly
  used for debugging purposes. Note that it currently only supports
  monochromatic evaluation and will use it as a fallback in CKD modes.
* The {func}`.run` function, {meth}`.Experiment.process` and
  {meth}`.Experiment.postprocess` now accept a `measures` argument that allows
  to specify which measures will be processed {ghpr}`471`.

### Changed

* Transferred the Gaussian SRF dataset creation function {func}`.make_gaussian`
  to the {mod}`eradiate.spectral.response` subpackage ({ghpr}`458`).
* Updated spectral response function database to optimize computational time
  ({ghpr}`469`).

### Fixed

* Fixed Gaussian SRF padding strategy ({ghpr}`458`).
* Package metadata now explicitly mentions that supported Python is up to 3.12.
* Fixed incorrect interpolation method in volume data textures ({ghpr}`465`).
* The {class}`.InterpolatedSpectrum` constructor now raises if it detects NaN
  in the values it receives ({ghpr}`467`).
* Fixed exception occurring when interpolating in a CKD absorption database that
  had species missing from the atmospheric profile ({ghpr}`470`).
* Fixed the azimuth convention of the {class}`.MultiPixelDistantMeasure` which
  was discarded after initialization, providing erroneous azimuth outputs
  {ghcommit}`6f3878`.

% ### Internal changes
